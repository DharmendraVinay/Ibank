CREATE TABLE  "USER_DETAILS" 
   (	"USER_ID" NUMBER(10,0), 
	"USER_NAME" VARCHAR2(20) NOT NULL ENABLE, 
	"FIRST_NAME" VARCHAR2(20) NOT NULL ENABLE, 
	"LAST_NAME" VARCHAR2(20), 
	"DOB" DATE NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(40) NOT NULL ENABLE, 
	"PHONE_NUMBER" VARCHAR2(15) NOT NULL ENABLE, 
	"ALTERNATE_CONTACT" VARCHAR2(15), 
	"HOUSE_NUMBER" VARCHAR2(20) NOT NULL ENABLE, 
	"PLOT_NUMBER" VARCHAR2(20), 
	"STREET" VARCHAR2(20) NOT NULL ENABLE, 
	"CITY" VARCHAR2(20) NOT NULL ENABLE, 
	"STATE" VARCHAR2(20) NOT NULL ENABLE, 
	"SECURITY_QUESTION" VARCHAR2(50) NOT NULL ENABLE, 
	"SECURITY_ANSWER" VARCHAR2(20) NOT NULL ENABLE, 
	"PASSWORD" VARCHAR2(100) NOT NULL ENABLE, 
	"LOGIN_COUNT" NUMBER(1,0), 
	 PRIMARY KEY ("USER_ID") ENABLE
   )



CREATE TABLE  "ACCOUNT" 
   (	"USER_ID" NUMBER(10,0), 
	"ACCOUNT_NUMBER" NUMBER(20,0) NOT NULL ENABLE, 
	"IS_ACTIVE" NUMBER(1,0) NOT NULL ENABLE, 
	"IS_LOGGED_IN" NUMBER(1,0) NOT NULL ENABLE, 
	"IS_BELOW_MINIMUM_BALANCE" NUMBER(1,0) NOT NULL ENABLE, 
	"ACCOUNT_BALANCE" NUMBER(10,2) NOT NULL ENABLE, 
	"PASS_STATUS" NUMBER(1,0), 
	 PRIMARY KEY ("ACCOUNT_NUMBER") ENABLE, 
	 CONSTRAINT "ACK" FOREIGN KEY ("USER_ID")
	  REFERENCES  "USER_DETAILS" ("USER_ID") ENABLE
   )


ALTER TABLE ACCOUNT MODIFY ACCOUNT_BALANCE NUMBER(10,2);


CREATE TABLE  "TRANSACTIONS" 
   (	"USER_ID" NUMBER(10,0), 
	"TRANSACTION_ID" NUMBER(10,0) NOT NULL ENABLE, 
	"ACCOUNT_NUMBER" NUMBER(20,0) NOT NULL ENABLE, 
	"TRANSACTION_TYPE" VARCHAR2(10) NOT NULL ENABLE, 
	"AMOUNT" NUMBER(10,2) NOT NULL ENABLE, 
	"REMARKS" VARCHAR2(150) NOT NULL ENABLE, 
	"TRANSACTION_DATE" DATE, 
	 PRIMARY KEY ("USER_ID", "TRANSACTION_ID") ENABLE, 
	 CONSTRAINT "ACK_2" FOREIGN KEY ("ACCOUNT_NUMBER")
	  REFERENCES  "ACCOUNT" ("ACCOUNT_NUMBER") ENABLE, 
	 CONSTRAINT "ACK_1" FOREIGN KEY ("USER_ID")
	  REFERENCES  "USER_DETAILS" ("USER_ID") ENABLE
   )

CREATE TABLE  "RECENTPASSWORDS" 
   (	"USER_ID" NUMBER(10,0), 
	"PASSWORD" VARCHAR2(100), 
	"DATE_MODIFIED" DATE, 
	"PASSWORD_SEQUENCE" NUMBER(5,0), 
	 PRIMARY KEY ("PASSWORD_SEQUENCE") ENABLE, 
	 CONSTRAINT "pssk" FOREIGN KEY ("USER_ID")
	  REFERENCES  "USER_DETAILS" ("USER_ID") ENABLE
   )



ALTER TABLE TRANSACTIONS MODIFY AMOUNT NUMBER(10,2);

CREATE SEQUENCE User_Details_Seq
      INCREMENT BY 1
      START WITH 1
      NOMAXVALUE
      NOCYCLE
      CACHE 10; 


CREATE SEQUENCE Transactions_Seq
INCREMENT BY 1
      START WITH 1
      NOMAXVALUE
      NOCYCLE
      CACHE 10; 

CREATE SEQUENCE Passwords_Seq
INCREMENT BY 1
START WITH 1
NOMAXVALUE
NOCYCLE
CACHE 10;